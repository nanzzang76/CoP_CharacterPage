<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Characters</title>
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/style_edward.css" />
  </head>
  <body>
    <div id="wrap">
      <div class="menu">
        <div class="menu_img">
          <img
            src="./img/all/byeol1.png"
            alt="귀여운 아기고양이 별이 눈을 감고 고개를 빠르게 돌리고 있다"
          />
        </div>
        <div class="menu_edward">
          <button onclick="location.href='index.html'">에드워드 엘릭</button>
        </div>

        <div class="menu_rocklee">
          <button onclick="location.href='rocklee.html'">록리</button>
        </div>

        <div class="menu_taeseop">
          <button onclick="location.href='taeseop.html'">송태섭</button>
        </div>

        <div class="menu_taeyoung">
          <button onclick="location.href='taeyoung.html'">권태영</button>
        </div>
      </div>

      <!-- 1페이지 -->
      <section class="page1">
        <div class="answer">
          <p></p>
        </div>

        <figure class="leaf1">
          <img src="./img/edward/leaf.png" alt="" />
        </figure>

        <figure class="leaf2">
          <img src="./img/edward/leaf.png" alt="" />
        </figure>

        <figure class="leaf3">
          <img src="./img/edward/leaf.png" alt="" />
        </figure>

        <figure class="leaf4">
          <img src="./img/edward/leaf.png" alt="" />
        </figure>

        <figure class="character1">
          <img src="./img/edward/edward1.png" alt="" />
        </figure>

        <figure class="star1">
          <img src="./img/all/Star1.png" alt="" />
        </figure>

        <figure class="star2">
          <img src="./img/all/Star2.png" alt="" />
        </figure>

        <div class="description">
          <p class="text1">바로 내가 ‘강철의 연금술사’!!</p>
          <figure class="text2">
            <img src="./img/edward/에드워드 엘릭!!!.png" alt="" />
          </figure>
        </div>

        <div class="speechbubble">
          <figure>
            <img src="./img/all/speechbubble.png" alt="" />
          </figure>
          <p class="text3">헉 멋지다!!!</p>
          <p class="text4">
            나도 강철같은 <br />
            마음을 얻겠어
          </p>
        </div>

        <div class="mama">
          <figure class="star3">
            <img src="./img/all/Star3.png" alt="" />
          </figure>
          <p>
            엄마 <br />
            전 <span class="bold">연금술사</span>가 될래요!
          </p>
        </div>
        <div class="approved">
          <img src="./img/all/approved.png" alt="" />
        </div>
      </section>

      <figure class="sandbag">
        <img src="./img/edward/fullmetal.png" alt="" />
      </figure>

      <div class="track_wrapper">
        <div class="track">
          <div class="track1">
            <span
              >Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
              Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
            </span>
            <span
              >Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
              Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
            </span>
          </div>
          <div class="track2">
            <span
              >Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
              Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
            </span>
            <span
              >Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
              Edward Elric Edward Elric Edward Elric Edward Elric Edward Elric
            </span>
          </div>
        </div>
      </div>

      <div class="orange"></div>

      <!-- 2페이지 -->
      <section class="page2">
        <div class="megadescription1">
          <p class="text5">
            <span>등가교환의 신념</span>
            <span>대가를 치른 성장</span>
            <span>책임을 짊어진 형제애</span>
            <span>무릎을 꿇지 않는 자존</span>
            <span>포기하지 않는 추구</span>
            <span>실패 속의 각성</span>
            <span>사라지지 않는 죄의식</span>
          </p>
        </div>

        <div class="megadiscription2">
          <p class="text6">
            <span>연성보다 강한 결심</span>
            <span>강철같은 마음</span>
            <span>망설임 뒤의 결단</span>
            <span>진실을 향한 집념</span>
            <span>잃고도 지켜낸 마음</span>
            <span>인간다움에 대한 믿음</span>
            <span>두 손으로 이뤄낸 구원</span>
          </p>
        </div>

        <div>
          <button class="clickme">
            <img src="./img/all/clickme.png" alt="" />
          </button>
        </div>

        <div class="clickthat">
          <p>클릭해보세요! ▶</p>
        </div>

        <figure class="sparkle1">
          <img src="./img/all/sparkle.png" alt="" />
        </figure>

        <figure class="sparkle2">
          <img src="./img/all/sparkle.png" alt="" />
        </figure>

        <figure class="cloud">
          <img src="./img/all/cloud.png" alt="" />
        </figure>

        <figure class="rocklee2">
          <img src="./img/edward/edward2.png" alt="" />
        </figure>
        <figure class="rocklee_shadow1">
          <img src="./img/edward/edward_shadow1.png" alt="" />
        </figure>
        <figure class="rocklee_shadow2">
          <img src="./img/edward/edward_shadow2.png" alt="" />
        </figure>

        <figure class="rocklee_text">
          <img src="./img/edward/Edward Elric.png" alt="" />
        </figure>

        <div class="symbol">
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
          <img src="./img/edward/hagaren.png" alt="연금술사 심볼" />
        </div>
      </section>

      <!-- 3페이지 -->
      <section class="page3">
        <div class="curtain">
          <img src="./img/all/theater.jpg" alt="" />
        </div>

        <div class="tada">
          <p>오늘의 명장면</p>
        </div>

        <figure class="ribbon">
          <img src="./img/all/ribbon.png" alt="" />
        </figure>

        <figure class="frame1">
          <img src="./img/all/frame.png" alt="" />
        </figure>

        <figure class="randomImage"></figure>

        <div class="tada_btn">
          <button class="show-image">나와라 뚝딱</button>
        </div>

        <div class="fighting">
          <div class="fighting-wrap">
            <p></p>
            <figure>
              <img src="./img/all/Star1.png" alt="" />
            </figure>
          </div>
        </div>
      </section>
    </div>

    <!-- 4페이지 -->
    <section class="page4">
      <h2>댓글</h2>
      <ul id="comment-list"></ul>

      <input type="text" id="nickname" placeholder="닉네임" />
      <input type="text" id="new-comment" placeholder="댓글 입력" />
      <button onclick="submitComment()">등록</button>

      <script>
        const apiUrl =
          "https://script.google.com/macros/s/AKfycbxyBCBnwLi2UyhTC9R-f1HPKLG7holA1dXStZFgOV9JP9R4mAKKzkIojSzPkp2SHhd9/exec";

        // 댓글 가져오기
        async function fetchComments() {
          const res = await fetch(apiUrl);
          const data = await res.json();
          const list = document.getElementById("comment-list");
          list.innerHTML = "";
          data.forEach((comment) => {
            const li = document.createElement("li");
            li.textContent = `[${comment.time}] ${comment.nickname}: ${comment.content}`;
            list.appendChild(li);
          });
        }

        // 댓글 등록하기
        async function submitComment() {
          const nickname = document.getElementById("nickname").value.trim();
          const content = document.getElementById("new-comment").value.trim();
          if (!nickname || !content)
            return alert("닉네임과 댓글을 모두 입력해 주세요!");

          await fetch(apiUrl, {
            method: "POST",
            body: JSON.stringify({ nickname, content }),
            headers: { "Content-Type": "application/json" },
          });

          document.getElementById("nickname").value = "";
          document.getElementById("new-comment").value = "";
          fetchComments();
        }

        fetchComments(); // 페이지 열리면 댓글 불러오기
      </script>
    </section>

    <section class="footer">
      <div class="footer_wrap">
        <p class="copyright">
          Fan-made page (2025) <br />
          Zero copyright powers here — all the cool stuff belongs to the
          original geniuses.
        </p>
        <div class="awesome">
          <p class="great">명작 모음</p>
          <div class="masterpiece">
            <p>
              <a
                href="https://product.kyobobook.co.kr/detail/S000216290235"
                target="_blank"
                >강철의 연금술사</a
              >
            </p>
            <p>
              <a
                href="https://product.kyobobook.co.kr/detail/S000001713510"
                target="_blank"
                >나루토</a
              >
            </p>
            <p>
              <a
                href="https://product.kyobobook.co.kr/detail/S000001695143"
                target="_blank"
                >슬램덩크</a
              >
            </p>
            <p>
              <a
                href="https://product.kyobobook.co.kr/detail/S000200185130"
                target="_blank"
                >격기3반</a
              >
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 팝업 -->
    <!-- 팝업 구조 -->
    <div class="layer-popup">
      <div class="layer-popup-wrap">
        <div class="popup-title">
          <img src="./img/all/ribbon2.png" alt="" />
          <p>안녕하세요! 반갑습니다.</p>
        </div>

        <div class="blahblah">
          <div class="byeol_description">
            <figure class="popup_byeol">
              <img src="./img/all/byeol2.png" alt="" />
            </figure>
            <p>귀엽고 깜찍한 아기 고양이 정 별(2015년 생)</p>
          </div>

          <div class="popup-content">
            <p>만든 이: 정혜민</p>
            <p class="info">
              신상:<br />
              <strong>1997.07.01. 오전 11시 05분</strong><br />
              <span class="small">위 정보로 사주를 볼 시 제게도 알려주세요</span
              ><br />
              하동정씨 / O형 (RH+)
            </p>
            <p class="hobby">취미:<br />누워서 만화 보기</p>
          </div>
          <div class="popup-buttons">
            <button class="hello-btn">
              <img src="./img/all/beautiful-btn.png" alt="" />
            </button>
            <button class="poo-btn">
              <img src="./img/all/ignore-btn.png" alt="" />
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- 탑버튼 -->
    <button id="topBtn">
      <img src="./img/all/top.png" alt="Top 버튼" />
    </button>

    <script>
      // 록리등장
      document.addEventListener("DOMContentLoaded", function () {
        const clickMeBtn = document.querySelector(".clickme");
        const rocklee2 = document.querySelector(".rocklee2");
        const rockleeShadow1 = document.querySelector(".rocklee_shadow1");
        const rockleeShadow2 = document.querySelector(".rocklee_shadow2");
        const cloud = document.querySelector(".cloud");
        const rockleeText = document.querySelector(".rocklee_text");

        clickMeBtn.addEventListener("click", function () {
          console.log("clicked!"); // 실행 확인용

          [rocklee2, cloud].forEach((el) => {
            el.style.animation = "shoot 0.5s forwards";
          });

          rockleeShadow1.style.animation = "shoot 0.5s 0.2s forwards";
          rockleeShadow2.style.animation = "shoot 0.5s 0.4s forwards";

          // rocklee_text
          if (rockleeText) {
            console.log("rocklee_text found!");
            rockleeText.style.opacity = "1";
          } else {
            console.log("rocklee_text NOT found!");
          }
        });
      });

      // 랜덤 이미지 기능
      const imageData = [
        {
          path: "./img/edward/random/img1.png",
          text: "휘휘~ 거기 그림 좋은데~",
        },
        {
          path: "./img/edward/random/img2.png",
          text: "레그프레스 1000회 실시!!!",
        },
        {
          path: "./img/edward/random/img3.png",
          text: "정말 아름다운 이야기야...",
        },
        {
          path: "./img/edward/random/img4.png",
          text: "삼류!삼류!삼류!",
        },
        {
          path: "./img/edward/random/img5.png",
          text: "난 수미상관 구조에 약하다고--!",
        },
        {
          path: "./img/edward/random/img6.png",
          text: "네!!!!!",
        },
        {
          path: "./img/edward/random/img7.png",
          text: "알폰스 이 바보야--!!!",
        },
      ];

      let lastIndex = -1;

      document
        .querySelector(".show-image")
        .addEventListener("click", function () {
          let randomIndex;

          do {
            randomIndex = Math.floor(Math.random() * imageData.length);
          } while (randomIndex === lastIndex); // 중복 방지

          lastIndex = randomIndex;
          const selected = imageData[randomIndex];

          // 이미지 삽입
          const imgElement = document.createElement("img");
          imgElement.src = selected.path;
          imgElement.alt = "랜덤 이미지";
          imgElement.style.maxWidth = "100%";

          const figure = document.querySelector(".randomImage");
          figure.innerHTML = "";
          figure.appendChild(imgElement);

          // 텍스트 삽입
          const textTarget = document.querySelector(".fighting p");
          textTarget.innerHTML = selected.text;
        });
    </script>

    <script src="./js/common.js"></script>
  </body>
</html>
